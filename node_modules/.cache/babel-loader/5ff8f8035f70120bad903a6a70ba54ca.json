{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u017Diga\\\\Desktop\\\\Ineor\\\\src\\\\components\\\\BookAppointment.js\";\nimport React, { Component } from 'react';\nimport '../sass/bookappointment.scss';\nimport { TimePicker } from './TimePicker';\nimport { Redirect } from 'react-router-dom';\nexport class BookAppointment extends Component {\n  constructor(props) {\n    super(props);\n\n    this.callbackGetDateValue = date => {\n      this.setState({\n        dateValue: date.toLocaleDateString()\n      }, () => console.log(this.state.dateValue));\n      let fields = this.state.fields;\n      fields['date'] = date;\n      this.setState({\n        fields\n      });\n    };\n\n    this.callbackGetTimeValue = time => {\n      this.setState({\n        timeValue: time.toLocaleTimeString()\n      }, () => console.log(this.state.timeValue));\n      let fields = this.state.fields;\n      fields['time'] = time;\n      this.setState({\n        fields\n      });\n    };\n\n    this.handleClick = (field, e) => {\n      let fields = this.state.fields;\n      fields['service'] = e.target.value;\n      this.setState({\n        fields\n      });\n      this.setState({\n        price: e.target.value,\n        dateDisabled: false\n      }, () => console.log(this.state.price));\n\n      if (e.target.value === \"1\") {\n        this.setState({\n          servicePrice: \"Price is 15$\"\n        });\n      } else if (e.target.value === \"2\") {\n        this.setState({\n          servicePrice: \"Price is 20$\"\n        });\n      } else if (e.target.value === \"3\") {\n        this.setState({\n          servicePrice: \"Price is 30$\"\n        });\n      } else {}\n    };\n\n    this.onChange = (field, e) => {\n      this.setState({\n        getWorkingHours: this.state.barbers.map(barber => barber.workHours),\n        serviceDisable: false\n      });\n      let fields = this.state.fields;\n      fields['barber'] = e.target.value;\n      this.setState({\n        fields\n      });\n    };\n\n    this.state = {\n      fields: {},\n      errors: {},\n      barbers: [],\n      services: [],\n      startDate: new Date(),\n      price: null,\n      servicePrice: \"Service Price\",\n      dateDisabled: true,\n      timeDisabled: true,\n      serviceDuration: 0,\n      serviceDisable: true,\n      getWorkingHours: null,\n      test: [],\n      formValidated: null,\n      dateValue: null,\n      timeValue: null,\n      postId: null,\n      unixTimestamp: null\n    };\n  }\n\n  handleValidation() {\n    let fields = this.state.fields;\n    let errors = {};\n    let formIsValid = true;\n    console.log(this.state.dateValue); //Name\n\n    if (!fields[\"name\"] || !fields[\"surname\"]) {\n      formIsValid = false;\n      errors[\"name\"] = \"Please enter your full name\";\n    }\n\n    if (typeof fields[\"name\"] !== \"undefined\") {\n      if (!fields[\"name\"].match(/^[a-zA-Z]+$/)) {\n        formIsValid = false;\n        errors[\"name\"] = \"Only letters\";\n      }\n    } //Email\n\n\n    if (!fields[\"email\"]) {\n      formIsValid = false;\n      errors[\"email\"] = \"Please enter your email\";\n    }\n\n    if (typeof fields[\"email\"] !== \"undefined\") {\n      let lastAtPos = fields[\"email\"].lastIndexOf('@');\n      let lastDotPos = fields[\"email\"].lastIndexOf('.');\n\n      if (!(lastAtPos < lastDotPos && lastAtPos > 0 && fields[\"email\"].indexOf('@@') === -1 && lastDotPos > 2 && fields[\"email\"].length - lastDotPos > 2)) {\n        formIsValid = false;\n        errors[\"email\"] = \"Please enter a valid email\";\n      }\n    } //Phone\n\n\n    if (!fields[\"phone\"]) {\n      formIsValid = false;\n      errors[\"phone\"] = \"Please enter phone number\";\n    } //Barber\n\n\n    if (!fields[\"barber\"]) {\n      formIsValid = false;\n      errors[\"barber\"] = \"Please select a barber\";\n    } //Service\n\n\n    if (!fields[\"service\"]) {\n      formIsValid = false;\n      errors[\"service\"] = \"Please select a service\";\n    } // Date\n\n\n    if (!fields[\"date\"]) {\n      formIsValid = false;\n      errors[\"date\"] = \"Please select a date\";\n    } // Time\n\n\n    if (!fields[\"time\"]) {\n      formIsValid = false;\n      errors[\"time\"] = \"Please select the time\";\n    }\n\n    const date = new Date(Date.parse(this.state.dateValue + \" \" + this.state.timeValue));\n    const unixTimestamp = Math.floor(date.getTime() / 1000);\n    this.setState({\n      unixTimestamp: unixTimestamp\n    });\n    console.log(this.state.fields);\n    this.setState({\n      errors: errors\n    });\n    return formIsValid;\n  }\n\n  handleChange(field, e) {\n    let fields = this.state.fields;\n    fields[field] = e.target.value;\n    this.setState({\n      fields\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    if (this.handleValidation()) {\n      this.setState({\n        formValidated: true\n      });\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer my-token',\n          'My-Custom-Header': 'foobar'\n        },\n        body: JSON.stringify({\n          startDate: this.state.unixTimestamp,\n          barberId: parseInt(this.state.fields['barber']),\n          serviceId: parseInt(this.state.fields['service'])\n        })\n      };\n      fetch('http://localhost:3004/appointments', requestOptions).then(response => response.json()).then(data => this.setState({\n        postId: data.id\n      }));\n    } else {\n      this.setState({\n        formValidated: false\n      });\n    }\n  }\n\n  componentDidMount() {\n    const baseUrl = 'http://localhost:3004'; // GET BARBERS\n\n    fetch(baseUrl + '/barbers').then(getBarbers => {\n      return getBarbers.json();\n    }).then(getBarbers => {\n      this.setState({\n        barbers: getBarbers\n      });\n    }).catch(err => {\n      alert(\"Failed to load our Barbers\" + err);\n    }); // GET SERVICES\n\n    fetch(baseUrl + '/services').then(getServices => {\n      return getServices.json();\n    }).then(getServices => {\n      this.setState({\n        services: getServices\n      });\n    }).catch(err => {\n      alert(\"Failed to load our Services\" + err);\n    });\n  }\n\n  render() {\n    const {\n      barbers,\n      services,\n      servicePrice,\n      fields,\n      errors,\n      getWorkingHours,\n      dateDisabled,\n      timeDisabled\n    } = this.state;\n\n    if (this.state.formValidated === true) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"barberbooked\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 20\n        }\n      });\n    } else {}\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"booking-app-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"booking-app-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 21\n      }\n    }, \"Book your appointment\")), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"First Name\",\n      onChange: this.handleChange.bind(this, \"name\"),\n      value: fields[\"name\"] || '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 25\n      }\n    }, errors[\"name\"])), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Last Name\",\n      onChange: this.handleChange.bind(this, \"surname\"),\n      value: fields[\"surname\"] || '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"Email\",\n      onChange: this.handleChange.bind(this, \"email\"),\n      value: fields[\"email\"] || '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 25\n      }\n    }, errors[\"email\"])), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      pattern: \"[0][0-9]{8}\",\n      placeholder: \"Phone Number\",\n      onChange: this.handleChange.bind(this, \"phone\"),\n      value: fields[\"phone\"] || '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 25\n      }\n    }, errors[\"phone\"])), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      value: fields[\"barber\"] || '',\n      onChange: this.onChange.bind(this, \"barber\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      hidden: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 28\n      }\n    }, \"Select Barber\"), barbers.map(barber => /*#__PURE__*/React.createElement(\"option\", {\n      value: barber.id,\n      key: barber.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 33\n      }\n    }, barber.firstName, \" \", barber.lastName))), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 24\n      }\n    }, errors[\"barber\"])), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      value: fields[\"service\"] || '',\n      onChange: this.handleClick.bind(this, \"service\"),\n      disabled: this.state.serviceDisable === true ? \"disabled\" : null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      hidden: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 28\n      }\n    }, \"Select Service\"), services.map(service => /*#__PURE__*/React.createElement(\"option\", {\n      value: service.id,\n      key: service.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 33\n      }\n    }, service.name))), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 24\n      }\n    }, errors[\"service\"])), /*#__PURE__*/React.createElement(TimePicker, {\n      errors: this.state.errors,\n      callbackGetTimeValue: this.callbackGetTimeValue,\n      callbackGetDateValue: this.callbackGetDateValue,\n      getWorkingHours: getWorkingHours,\n      datedisabled: dateDisabled,\n      timeDisabled: timeDisabled,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-wrapper price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      value: servicePrice,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Book appointment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\nexport default BookAppointment;","map":{"version":3,"sources":["C:/Users/Žiga/Desktop/Ineor/src/components/BookAppointment.js"],"names":["React","Component","TimePicker","Redirect","BookAppointment","constructor","props","callbackGetDateValue","date","setState","dateValue","toLocaleDateString","console","log","state","fields","callbackGetTimeValue","time","timeValue","toLocaleTimeString","handleClick","field","e","target","value","price","dateDisabled","servicePrice","onChange","getWorkingHours","barbers","map","barber","workHours","serviceDisable","errors","services","startDate","Date","timeDisabled","serviceDuration","test","formValidated","postId","unixTimestamp","handleValidation","formIsValid","match","lastAtPos","lastIndexOf","lastDotPos","indexOf","length","parse","Math","floor","getTime","handleChange","handleSubmit","event","preventDefault","requestOptions","method","headers","body","JSON","stringify","barberId","parseInt","serviceId","fetch","then","response","json","data","id","componentDidMount","baseUrl","getBarbers","catch","err","alert","getServices","render","bind","firstName","lastName","service","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport '../sass/bookappointment.scss';\r\nimport { TimePicker } from './TimePicker';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nexport class BookAppointment extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            fields: {},\r\n            errors: {},\r\n            barbers: [],\r\n            services: [],\r\n            startDate: new Date(),\r\n            price: null,\r\n            servicePrice: \"Service Price\",\r\n            dateDisabled: true,\r\n            timeDisabled: true,\r\n            serviceDuration: 0,\r\n            serviceDisable: true,\r\n            getWorkingHours: null,\r\n            test: [],\r\n            formValidated: null,\r\n            dateValue: null,\r\n            timeValue: null,\r\n            postId: null,\r\n            unixTimestamp: null,\r\n        };\r\n\r\n    }\r\n\r\n    callbackGetDateValue = (date) => {\r\n        this.setState({dateValue: date.toLocaleDateString()}, () => console.log(this.state.dateValue))\r\n        let fields = this.state.fields;\r\n        fields['date'] = date;        \r\n        this.setState({fields});\r\n    }\r\n\r\n    callbackGetTimeValue = (time) => {\r\n        this.setState({timeValue: time.toLocaleTimeString()}, () => console.log(this.state.timeValue))\r\n        let fields = this.state.fields;\r\n        fields['time'] = time;        \r\n        this.setState({fields});\r\n    }\r\n\r\n    handleValidation(){\r\n        let fields = this.state.fields;\r\n        let errors = {};\r\n        let formIsValid = true;\r\n        console.log(this.state.dateValue)\r\n\r\n\r\n\r\n        //Name\r\n        if(!fields[\"name\"] || !fields[\"surname\"]){\r\n          formIsValid = false;\r\n          errors[\"name\"] = \"Please enter your full name\";\r\n        }\r\n    \r\n        if(typeof fields[\"name\"] !== \"undefined\"){\r\n          if(!fields[\"name\"].match(/^[a-zA-Z]+$/)){\r\n            formIsValid = false;\r\n            errors[\"name\"] = \"Only letters\";\r\n          }      \t\r\n        }\r\n    \r\n        //Email\r\n        if(!fields[\"email\"]){\r\n          formIsValid = false;\r\n          errors[\"email\"] = \"Please enter your email\";\r\n        }\r\n    \r\n        if(typeof fields[\"email\"] !== \"undefined\"){\r\n          let lastAtPos = fields[\"email\"].lastIndexOf('@');\r\n          let lastDotPos = fields[\"email\"].lastIndexOf('.');\r\n    \r\n          if (!(lastAtPos < lastDotPos && lastAtPos > 0 && fields[\"email\"].indexOf('@@') === -1 && lastDotPos > 2 && (fields[\"email\"].length - lastDotPos) > 2)) {\r\n            formIsValid = false;\r\n            errors[\"email\"] = \"Please enter a valid email\";\r\n          }\r\n        }\r\n\r\n        //Phone\r\n        if(!fields[\"phone\"]){\r\n            formIsValid = false;\r\n            errors[\"phone\"] = \"Please enter phone number\";\r\n          }\r\n\r\n        //Barber\r\n        if(!fields[\"barber\"]){\r\n            formIsValid = false;\r\n            errors[\"barber\"] = \"Please select a barber\";\r\n        }\r\n\r\n        //Service\r\n        if(!fields[\"service\"]){\r\n            formIsValid = false;\r\n            errors[\"service\"] = \"Please select a service\";\r\n        }\r\n\r\n        // Date\r\n        if(!fields[\"date\"]){\r\n            formIsValid = false;\r\n            errors[\"date\"] = \"Please select a date\";\r\n        }\r\n\r\n        // Time\r\n        if(!fields[\"time\"]){\r\n            formIsValid = false;\r\n            errors[\"time\"] = \"Please select the time\";\r\n        }\r\n\r\n        const date = new Date(Date.parse(this.state.dateValue + \" \" + this.state.timeValue));\r\n        const unixTimestamp = Math.floor(date.getTime() / 1000);\r\n        this.setState({\r\n            unixTimestamp: unixTimestamp,\r\n        })\r\n\r\n        console.log(this.state.fields)\r\n        this.setState({errors: errors});\r\n        return formIsValid;\r\n\r\n    }\r\n    \r\n    handleChange(field, e){    \t\t\r\n        let fields = this.state.fields;\r\n        fields[field] = e.target.value;        \r\n        this.setState({fields});\r\n    }\r\n    \r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        if(this.handleValidation()){\r\n            this.setState({\r\n                formValidated: true,\r\n            });\r\n\r\n            const requestOptions = {\r\n                method: 'POST',\r\n                headers: { \r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer my-token',\r\n                    'My-Custom-Header': 'foobar'\r\n                },\r\n                body: JSON.stringify({\r\n                    startDate: this.state.unixTimestamp,\r\n                    barberId:   parseInt(this.state.fields['barber']),\r\n                    serviceId: parseInt(this.state.fields['service']),\r\n                })};\r\n\r\n            fetch('http://localhost:3004/appointments', requestOptions)\r\n                .then(response => response.json())\r\n                .then(data => this.setState({ postId: data.id }));\r\n        \r\n            } else {\r\n            this.setState({\r\n                formValidated: false,\r\n            })\r\n        }\r\n    }\r\n\r\n    handleClick = (field,e) => {\r\n        let fields = this.state.fields;\r\n        fields['service'] = e.target.value;        \r\n        this.setState({fields});\r\n\r\n        this.setState({\r\n            price: e.target.value,\r\n            dateDisabled: false,\r\n        }, () => console.log(this.state.price))\r\n        \r\n        if (e.target.value === \"1\") {\r\n            this.setState({\r\n                servicePrice: \"Price is 15$\"\r\n            })\r\n        } else if (e.target.value === \"2\") {\r\n            this.setState({\r\n                servicePrice: \"Price is 20$\"\r\n            })\r\n        } else if (e.target.value === \"3\") {\r\n            this.setState({\r\n                servicePrice: \"Price is 30$\"\r\n            })\r\n        } else {\r\n            \r\n        }\r\n    }\r\n\r\n    onChange = ( field, e) => {\r\n        this.setState({\r\n            getWorkingHours: this.state.barbers.map(barber => barber.workHours),\r\n            serviceDisable: false,\r\n        });\r\n\r\n        let fields = this.state.fields;\r\n        fields['barber'] = e.target.value;        \r\n        this.setState({fields});\r\n    }\r\n\r\n    componentDidMount() {\r\n        const baseUrl = 'http://localhost:3004';\r\n\r\n        // GET BARBERS\r\n\r\n        fetch(baseUrl + '/barbers')\r\n        .then(getBarbers => {\r\n            return getBarbers.json();\r\n        })\r\n        .then(getBarbers => {\r\n            this.setState({\r\n                barbers: getBarbers\r\n            })\r\n        })\r\n        .catch(err => {\r\n            alert(\"Failed to load our Barbers\" + err)\r\n        });\r\n\r\n        // GET SERVICES\r\n\r\n        fetch(baseUrl + '/services')\r\n        .then(getServices => {\r\n            return getServices.json();\r\n        })\r\n        .then(getServices => {\r\n            this.setState({\r\n                services: getServices\r\n            })\r\n        })\r\n        .catch(err => {\r\n            alert(\"Failed to load our Services\" + err)\r\n        });\r\n\r\n    }\r\n\r\n    \r\n\r\n    render() {\r\n        const { barbers, services, servicePrice, fields, errors, getWorkingHours, dateDisabled, timeDisabled } = this.state;\r\n        if (this.state.formValidated === true) {\r\n            return <Redirect to=\"barberbooked\"/>\r\n        } else {\r\n            \r\n        }\r\n        return (\r\n            <div className=\"booking-app-wrapper\">\r\n                <div className=\"booking-app-title\">\r\n                    <h2>Book your appointment</h2>\r\n                </div>\r\n\r\n                <form onSubmit={this.handleSubmit.bind(this)}>\r\n                    <div className=\"input-wrapper\">\r\n                        <input type=\"text\" placeholder=\"First Name\" onChange={this.handleChange.bind(this, \"name\")} value={fields[\"name\"] || ''}/>\r\n                        <span className=\"error\">{errors[\"name\"]}</span>\r\n                    </div>\r\n\r\n                    <div className=\"input-wrapper\">\r\n                        <input type=\"text\" placeholder=\"Last Name\" onChange={this.handleChange.bind(this, \"surname\")} value={fields[\"surname\"] || ''}/>\r\n                    </div>\r\n\r\n                    <div className=\"input-wrapper\">\r\n                        <input placeholder=\"Email\" onChange={this.handleChange.bind(this, \"email\")} value={fields[\"email\"] || ''} />\r\n                        <span className=\"error\">{errors[\"email\"]}</span>\r\n                    </div>\r\n\r\n                    <div className=\"input-wrapper\">\r\n                        <input pattern=\"[0][0-9]{8}\" placeholder=\"Phone Number\" onChange={this.handleChange.bind(this, \"phone\")} value={fields[\"phone\"] || ''}/>\r\n                        <span className=\"error\">{errors[\"phone\"]}</span>\r\n                    </div>\r\n\r\n                    <div className=\"input-wrapper\">\r\n                       <select value={fields[\"barber\"] || ''} onChange={this.onChange.bind(this, \"barber\")}>\r\n                           <option hidden>Select Barber</option>\r\n                           {barbers.map(barber => (\r\n                                <option value={barber.id} key={barber.id}>\r\n                                {barber.firstName} {barber.lastName}\r\n                                </option>\r\n                            ))}\r\n                       </select>\r\n                       <span className=\"error\">{errors[\"barber\"]}</span>\r\n                    </div>\r\n\r\n                    <div className=\"input-wrapper\">\r\n                       <select value={fields[\"service\"] || ''} onChange={this.handleClick.bind(this, \"service\")} disabled={(this.state.serviceDisable === true ) ? \"disabled\" : null}>\r\n                           <option hidden>Select Service</option>\r\n                           {services.map(service => (\r\n                                <option value={service.id}\r\n                                    key={service.id}>\r\n                                    {service.name}\r\n                                </option>\r\n                            ))}\r\n                       </select>\r\n                       <span className=\"error\">{errors[\"service\"]}</span>\r\n                    </div>\r\n\r\n                    <TimePicker \r\n                    errors={this.state.errors}\r\n                    callbackGetTimeValue={this.callbackGetTimeValue}\r\n                    callbackGetDateValue={this.callbackGetDateValue} \r\n                    getWorkingHours={getWorkingHours} \r\n                    datedisabled={dateDisabled} \r\n                    timeDisabled={timeDisabled}\r\n                    />\r\n\r\n                    <div className=\"input-wrapper price\">\r\n                        <input value={servicePrice} disabled/>\r\n                    </div>\r\n                    \r\n                    <input type=\"submit\" value=\"Book appointment\" />\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BookAppointment"]},"metadata":{},"sourceType":"module"}